<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>https.rb</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            https.rb
        </h1>
        <ul class="files">
            <li>lib/net/https.rb</li>
            <li>Last modified: 2011-10-27 11:13:37 +0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-net%2Fhttps+--+SSL%2FTLS+enhancement+for+Net%3A%3AHTTP.">net/https â€“ SSL/TLS enhancement for <a href="../../../classes/Net/HTTP.html">Net::HTTP</a>.</h1>

<h2 id="label-Info">Info</h2>

<pre>'OpenSSL for Ruby 2' project
Copyright (C) 2001 GOTOU Yuuzou &lt;gotoyuzo@notwork.org&gt;
All rights reserved.</pre>

<h2 id="label-Licence">Licence</h2>

<pre>This program is licenced under the same licence as Ruby.
(See the file 'LICENCE'.)</pre>

<h2 id="label-Example">Example</h2>

<p>Here is a simple HTTP client:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'net/http'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>
<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">ARGV</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'http://localhost/'</span>)
<span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span> {
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">print</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
  }
}
</pre>

<p>It can be replaced by the following code:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'net/https'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>
<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">ARGV</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'https://localhost/'</span>)
<span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;https&quot;</span>  <span class="ruby-comment"># enable SSL/TLS</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span> {
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">print</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
  }
}
</pre>

<h2 id="label-class+Net%3A%3AHTTP">class <a href="../../../classes/Net/HTTP.html">Net::HTTP</a></h2>

<h3 id="label-Instance+Methods">Instance Methods</h3>

<p>: use_ssl?</p>

<pre>returns true if use SSL/TLS with HTTP.</pre>

<p>: use_ssl=((|true_or_false|))</p>

<pre>sets use_ssl.</pre>

<p>: peer_cert</p>

<pre>return the X.509 certificates the server presented.</pre>

<p>: key, key=((|key|))</p>

<pre>Sets an OpenSSL::PKey::RSA or OpenSSL::PKey::DSA object.
(This method is appeared in Michal Rokos's OpenSSL extension.)</pre>

<p>: cert, cert=((|cert|))</p>

<pre>Sets an OpenSSL::X509::Certificate object as client certificate
(This method is appeared in Michal Rokos's OpenSSL extension).</pre>

<p>: ca_file, ca_file=((|path|))</p>

<pre>Sets path of a CA certification file in PEM format.
The file can contrain several CA certificates.</pre>

<p>: ca_path, ca_path=((|path|))</p>

<pre>Sets path of a CA certification directory containing certifications
in PEM format.</pre>

<p>: verify_mode, verify_mode=((|mode|))</p>

<pre>Sets the flags for server the certification verification at
beginning of SSL/TLS session.
OpenSSL::SSL::VERIFY_NONE or OpenSSL::SSL::VERIFY_PEER is acceptable.</pre>

<p>: verify_callback, verify_callback=((|proc|))</p>

<pre>Sets the verify callback for the server certification verification.</pre>

<p>: verify_depth, verify_depth=((|num|))</p>

<pre>Sets the maximum depth for the certificate chain verification.</pre>

<p>: cert_store, cert_store=((|store|))</p>

<pre>Sets the X509::Store to verify peer certificate.</pre>

<p>: ssl_timeout, ssl_timeout=((|sec|))</p>

<pre>Sets the SSL timeout seconds.</pre>

<p></p>

    </div>
  


  
    <!-- File only: requires -->
    <div class="sectiontitle">Required Files</div>
    <ul>
      
        <li>net/http</li>
      
        <li>openssl</li>
      
    </ul>
  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>
    </div>
  </body>
</html>